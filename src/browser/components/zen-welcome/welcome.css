/*
This Source Code Form is subject to the terms of the Mozilla Public
License, v. 2.0. If a copy of the MPL was not distributed with this
file, You can obtain one at http://mozilla.org/MPL/2.0/.
*/

:root {
  --noise: url("data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80"><defs><style>.g{fill:#000;}.g,.h,.i{stroke-width:0px;}.h{fill:url(#e);}.i{fill:#fff;}</style><linearGradient id="e" x1="40" y1="80" x2="40" y2="0" gradientUnits="userSpaceOnUse"><stop offset=".1" stop-color="#fff" stop-opacity=".02"/><stop offset=".9" stop-color="#fff" stop-opacity=".1"/></linearGradient></defs><g id="c"><rect class="g" width="80" height="80" rx="18.25" ry="18.25"/></g><g id="d"><rect class="h" width="80" height="80" rx="18.25" ry="18.25"/></g><g id="f"><path class="i" d="M63.4367,57.6782c-.0536,3.2127-2.7418,5.7593-5.955,5.7593h-24.1527c-.9392,0-1.5768-.9548-1.2169-1.8223l.0082-.0197c1.5882-3.8346,4.1653-7.0703,7.456-9.4308.4093-.2936.9032-.4459,1.407-.4459h16.5948c3.2694,0,5.9133,2.6775,5.8585,5.9594Z"/><path class="i" d="M46.671,16.5625c.9392,0,1.5768.9548,1.2169,1.8223l-.0082.0197c-1.5882,3.8346-4.1653,7.0703-7.456,9.4308-.4093.2936-.9032.4459-1.407.4459h-16.4984c-3.2132,0-5.9014-2.5466-5.955-5.7593-.0547-3.2819,2.5892-5.9594,5.8585-5.9594h24.2491Z"/><path class="i" d="M22.4208,63.4375c-.7473,0-1.5065-.1438-2.2398-.4475-2.9896-1.2383-4.4093-4.6657-3.171-7.6551,1.9045-4.5977,4.6342-8.7196,8.1136-12.251,3.6044-3.6585,7.8551-6.5172,12.6343-8.4968,6.5691-2.7211,11.6853-7.8373,14.4061-14.4061,1.2383-2.9897,4.6658-4.4091,7.6551-3.171,2.9896,1.2383,4.4093,4.6657,3.171,7.6551-1.9045,4.5977-4.6342,8.7196-8.1136,12.251-3.6044,3.6585-7.8551,6.5172-12.6343,8.4968-6.5691,2.7211-11.6853,7.8373-14.4061,14.4061-.9345,2.2562-3.1164,3.6185-5.4153,3.6185Z"/></g></svg>");
}

html {
  width: 100%;
  height: 100%;
}

body {

  display: flex;
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  transition: 2s;
  -moz-transform: scale(1.1); /* zoom */
  user-select: none;
}

body {
  --zen-gradient-color: var(--zen-colors-secondary);
  --zen-gradient-background: var(--zen-colors-tertiary);
  --zen-gradient-border: #fbffbe;

  &::before, &::after {
    content: "";
    position: absolute;
    top: 0; left: 0;
    z-index: -1;
    display: block;
    width: 100%;
    height: 100%;
  }
  
  &::before {
    background: radial-gradient(circle at 50%, var(--zen-gradient-background) 20%, var(--zen-gradient-color) 60%);
    mask: var(--noise), radial-gradient(circle at 50%, transparent 20%, light-dark(#000, #fff) (60% + 10%));
  }
  
  &::after {
    mask-image: var(--noise), linear-gradient(45deg, #000 0%, transparent 25%, transparent 75%, #000 100%);
    background: linear-gradient(45deg, #6d6dff 10%, var(--zen-gradient-background) 25%, var(--zen-gradient-background) 75%, var(--zen-gradient-border) 90%);
  }
}

@media (prefers-color-scheme: dark) {
  body {
    --zen-gradient-border: rgb(32, 32, 28);
    --zen-gradient-color: transparent;
  }
}

#first-view {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);
  background: var(--zen-dialog-background);
  width: 55%;
  position: relative;
  padding: 5% 4%;
  overflow: hidden;
  border-right: 1px solid var(--zen-colors-border);
}

#buttons-footer {
  margin-top: auto;
  padding: 10px;
  width: -moz-available;
  display: flex;
  justify-content: space-between;
  align-items: center;
  z-index: 2;
}

#second-view {
  width: 100%;
  height: 100%;
  position: relative;
}

button {
  padding: 8px;
}

#footer-buttons button {
  padding: 8px 0;
}

.page {
  display: flex;
  flex-direction: column;
  justify-content: start;
  width: -moz-available;
  height: 100%;
  margin: 32px;
}

h2 {
  font-size: 17px;
  font-weight: 600;
  margin: 35px 0 20px 0;
  line-height: 1;
}

.page-split:not([hidden="true"]) {
  flex-direction: column;
  margin: auto;
  justify-content: start;
}

.page-split > div:first-child {
  margin-bottom: 20px;
}

:not(#theme) .card h3 {
  margin: auto;
  text-align: center;
}

#theme .card[disabled="true"] {
  opacity: 0.7;
  cursor: not-allowed;
}

.cardGroup {
  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  gap: 8px;
  margin-bottom: 8px;
}

.cardGroup .card {
  width: 140px;
  display: flex;
  flex-direction: column;
  align-items: center;
  align-content: space-between;
  border: 2px solid var(--arrowpanel-border-color) !important;
  transition: all .1s ease-in-out !important;
  margin: 0 10px;
  border-radius: 7px;
  outline: none !important;
  cursor: auto;
  user-select: none;
}

.cardGroup .card.selected {
  border: 2px solid var(--zen-colors-primary) !important;
  transform: scale(1.1);
}

h1 {
  font-size: 32px;
  font-weight: 700;
  margin: 16px 0 5px 0;
  line-height: 1;
}

.page > div:nth-child(2) h1 {
  margin-bottom: 15px;
  margin-top: 10px;
  font-size: 18px;
}

p {
  font-size: 16px;
  opacity: 0.8;
  margin: 0;
  margin-bottom: 30px;
}

.icon {
  -moz-context-properties: fill;
  fill: currentColor;
  display: inline-block;
  height: 82px;
  width: 82px;
  margin-bottom: 20px;
}

.asset {
  width: 500px;
  padding-bottom: 32px;
}

@media (prefers-color-scheme: light) {
  .dark-only {
    display: none;
  }
}

@media (prefers-color-scheme: dark) {
  .light-only {
    display: none;
  }
}

input[type='checkbox'] {
  display: inline-block;
  vertical-align: middle;
}

#importNext {
  margin-left: 30px;
  color: var(--in-content-primary-button-background);
}

#themeNext,
#searchNext,
#thanksNext {
  margin-top: 20px;
}

.page[hidden="true"] {
  display: none;
}

.page:not([hidden="true"]) {
  display: flex;
}

.page:not([hidden="true"]) > * {
  opacity: 0;
  animation: fadeInRight 0.3s ease-in-out forwards;
}

@keyframes fadeInRight {
  from {
    opacity: 0;
    transform: translate3d(40px, 0, 0);
    filter: blur(15px);
  }

  to {
    opacity: 1;
    filter: blur(0);
    transform: translate3d(0, 0, 0);
  }
}

/* There should be no more than 5 elements in a page */
.page:not([hidden="true"]) > *:nth-child(2) { animation-delay: 0.1s; }
.page:not([hidden="true"]) > *:nth-child(3) { animation-delay: 0.2s; }
.page:not([hidden="true"]) > *:nth-child(4) { animation-delay: 0.3s; }
.page:not([hidden="true"]) > *:nth-child(5) { animation-delay: 0.4s; }

.card h3 {
  margin-top: 10px;
}

#circular-progress {
  --size: 220px;
  --half-size: calc(var(--size) / 2);
  --stroke-width: 20px;
  --radius: calc((var(--size) - var(--stroke-width)) / 2);
  --circumference: calc(var(--radius) * pi * 2);
  --dash: calc((var(--progress) * var(--circumference)) / 100);
  position: absolute;
  top: 15px;
  right: 10px;
  width: 55px;
  height: 40px;
}

#circular-progress circle {
  cx: var(--half-size);
  cy: var(--half-size);
  r: var(--radius);
  stroke-width: var(--stroke-width);
  fill: none;
  stroke-linecap: round;
}

#circular-progress circle.bg {
  stroke: light-dark(#3f3f3f, #4d4d4d);
}

#circular-progress circle.fg {
  transform: rotate(-90deg);
  transform-origin: var(--half-size) var(--half-size);
  stroke-dasharray: var(--dash) calc(var(--circumference) - var(--dash));
  transition: stroke-dasharray 0.3s linear 0s;
  stroke: var(--zen-primary-color);
}

#colorListWrapper {
  display: flex;
  align-items: center;
}

#colorListWrapper > div {
  border-radius: 999px;
  height: 20px;
  width: 20px;
  border: 3px solid transparent;
  margin: 0 5px;
}

#colorListWrapper > div.selected {
  border: 3px solid light-dark(#000, #fff);
}

#welcome {
  justify-content: center;
}

#themeList {
  display: flex;
  flex-wrap: nowrap;
}

#themeList > svg {
  border: 3px solid transparent;
  border-radius: 15px;
  height: -moz-available;
}

#themeList > svg:nth-child(1) {
  margin-right: 10px;
}

#themeList > svg.selected {
  border: 3px solid var(--zen-colors-primary);
}

#searchList.cardGroup {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

#searchList .card {
  width: -moz-available !important;
  margin: 0;
  display: flex;
  flex-direction: row;
  border-radius: 15px;

  & h3 {
    text-align: start;
    margin: 0;
    margin-left: 20px;
  }

  &.selected {
    transform: scale(1.01);
  }
}
